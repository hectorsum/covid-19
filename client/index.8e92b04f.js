import{S as t,i as a,s,e,a as r,t as o,c as n,b as c,d as l,f as i,g as h,h as f,j as u,k as v,l as d,m,n as $,o as p,p as E,r as g,q as D,u as T,v as S,w as y,x as N,y as w,z as I,A as _,B as C,C as B,D as O,E as V,F as x,G as j,H as k,I as H,J as b}from"./client.243099c8.js";import{r as U,C as P,a as A}from"./CovidStat.f67dc565.js";function L(t){let a,s,D,T,S,y,N,w,I,_,C,B,O,V,x,j,k,H,b;return{c(){a=e("div"),s=e("div"),D=e("div"),T=e("div"),S=e("input"),y=r(),N=e("div"),w=e("div"),I=e("select"),_=e("option"),C=o("By State Name"),B=e("option"),O=o("Cases"),V=e("option"),x=o("Death"),j=e("option"),k=o("Tested"),this.h()},l(t){a=n(t,"DIV",{class:!0});var e=c(a);s=n(e,"DIV",{class:!0});var r=c(s);D=n(r,"DIV",{class:!0});var o=c(D);T=n(o,"DIV",{class:!0});var f=c(T);S=n(f,"INPUT",{type:!0,class:!0,placeholder:!0}),f.forEach(l),y=i(o),N=n(o,"DIV",{class:!0});var u=c(N);w=n(u,"DIV",{class:!0});var v=c(w);I=n(v,"SELECT",{class:!0});var d=c(I);_=n(d,"OPTION",{value:!0});var m=c(_);C=h(m,"By State Name"),m.forEach(l),B=n(d,"OPTION",{value:!0});var $=c(B);O=h($,"Cases"),$.forEach(l),V=n(d,"OPTION",{value:!0});var p=c(V);x=h(p,"Death"),p.forEach(l),j=n(d,"OPTION",{value:!0});var E=c(j);k=h(E,"Tested"),E.forEach(l),d.forEach(l),v.forEach(l),u.forEach(l),o.forEach(l),r.forEach(l),e.forEach(l),this.h()},h(){f(S,"type","text"),f(S,"class","input svelte-10mkjoi"),f(S,"placeholder","Filter States"),f(T,"class","column is-6 svelte-10mkjoi"),_.__value="name",_.value=_.__value,B.__value="cases",B.value=B.__value,V.__value="deaths",V.value=V.__value,j.__value="tested",j.value=j.__value,f(I,"class","svelte-10mkjoi"),void 0===t[1]&&u((()=>t[3].call(I))),f(w,"class","select svelte-10mkjoi"),f(N,"class","column is-6 svelte-10mkjoi"),f(D,"class","columns"),f(s,"class","container"),f(a,"class","section")},m(e,r){v(e,a,r),d(a,s),d(s,D),d(D,T),d(T,S),m(S,t[0]),d(D,y),d(D,N),d(N,w),d(w,I),d(I,_),d(_,C),d(I,B),d(B,O),d(I,V),d(V,x),d(I,j),d(j,k),$(I,t[1]),H||(b=[p(S,"input",t[2]),p(I,"change",t[3])],H=!0)},p(t,[a]){1&a&&S.value!==t[0]&&m(S,t[0]),2&a&&$(I,t[1])},i:E,o:E,d(t){t&&l(a),H=!1,g(b)}}}function F(t,a,s){let{stateName:e=""}=a,{sortBy:r="name"}=a;return t.$$set=t=>{"stateName"in t&&s(0,e=t.stateName),"sortBy"in t&&s(1,r=t.sortBy)},[e,r,function(){e=this.value,s(0,e)},function(){r=D(this),s(1,r)}]}class R extends t{constructor(t){super(),a(this,t,F,L,s,{stateName:0,sortBy:1})}}function q(t,a,s){const e=t.slice();return e[1]=a[s],e}function z(t,a){let s,u,m,$,p,E,g,D,S,y,N,w,I,_,C,B=a[1].fullStateName+"",O=a[1].cases+"",V=a[1].deaths+"",x=a[1].tested+"";return{key:t,first:null,c(){s=e("tr"),u=e("td"),m=e("a"),$=o(B),E=r(),g=e("td"),D=o(O),S=r(),y=e("td"),N=o(V),w=r(),I=e("td"),_=o(x),C=r(),this.h()},l(t){s=n(t,"TR",{});var a=c(s);u=n(a,"TD",{});var e=c(u);m=n(e,"A",{rel:!0,href:!0});var r=c(m);$=h(r,B),r.forEach(l),e.forEach(l),E=i(a),g=n(a,"TD",{});var o=c(g);D=h(o,O),o.forEach(l),S=i(a),y=n(a,"TD",{});var f=c(y);N=h(f,V),f.forEach(l),w=i(a),I=n(a,"TD",{});var v=c(I);_=h(v,x),v.forEach(l),C=i(a),a.forEach(l),this.h()},h(){f(m,"rel","prefetch"),f(m,"href",p=a[1].state),this.first=s},m(t,a){v(t,s,a),d(s,u),d(u,m),d(m,$),d(s,E),d(s,g),d(g,D),d(s,S),d(s,y),d(y,N),d(s,w),d(s,I),d(I,_),d(s,C)},p(t,s){a=t,1&s&&B!==(B=a[1].fullStateName+"")&&T($,B),1&s&&p!==(p=a[1].state)&&f(m,"href",p),1&s&&O!==(O=a[1].cases+"")&&T(D,O),1&s&&V!==(V=a[1].deaths+"")&&T(N,V),1&s&&x!==(x=a[1].tested+"")&&T(_,x)},d(t){t&&l(s)}}}function G(t){let a,s,u,m,$,p,g,D,T,N,w,I,_,C,B,O,V,x,j=[],k=new Map,H=t[0];const b=t=>t[1].state;for(let a=0;a<H.length;a+=1){let s=q(t,H,a),e=b(s);k.set(e,j[a]=z(e,s))}return{c(){a=e("div"),s=e("div"),u=e("table"),m=e("thead"),$=e("tr"),p=e("th"),g=o("State"),D=r(),T=e("th"),N=o("Cases"),w=r(),I=e("th"),_=o("Deaths"),C=r(),B=e("th"),O=o("Total Tested"),V=r(),x=e("tbody");for(let t=0;t<j.length;t+=1)j[t].c();this.h()},l(t){a=n(t,"DIV",{class:!0});var e=c(a);s=n(e,"DIV",{class:!0});var r=c(s);u=n(r,"TABLE",{class:!0});var o=c(u);m=n(o,"THEAD",{});var f=c(m);$=n(f,"TR",{});var v=c($);p=n(v,"TH",{});var d=c(p);g=h(d,"State"),d.forEach(l),D=i(v),T=n(v,"TH",{});var E=c(T);N=h(E,"Cases"),E.forEach(l),w=i(v),I=n(v,"TH",{});var S=c(I);_=h(S,"Deaths"),S.forEach(l),C=i(v),B=n(v,"TH",{});var y=c(B);O=h(y,"Total Tested"),y.forEach(l),v.forEach(l),f.forEach(l),V=i(o),x=n(o,"TBODY",{});var k=c(x);for(let t=0;t<j.length;t+=1)j[t].l(k);k.forEach(l),o.forEach(l),r.forEach(l),e.forEach(l),this.h()},h(){f(u,"class","table is-bordered is-striped is-fullwidth svelte-3723rl"),f(s,"class","container"),f(a,"class","section svelte-3723rl")},m(t,e){v(t,a,e),d(a,s),d(s,u),d(u,m),d(m,$),d($,p),d(p,g),d($,D),d($,T),d(T,N),d($,w),d($,I),d(I,_),d($,C),d($,B),d(B,O),d(u,V),d(u,x);for(let t=0;t<j.length;t+=1)j[t].m(x,null)},p(t,[a]){1&a&&(H=t[0],j=S(j,a,b,1,t,H,k,x,y,z,null,q))},i:E,o:E,d(t){t&&l(a);for(let t=0;t<j.length;t+=1)j[t].d()}}}function J(t,a,s){let{states:e}=a;return t.$$set=t=>{"states"in t&&s(0,e=t.states)},[e]}class M extends t{constructor(t){super(),a(this,t,J,G,s,{states:0})}}function Y(t){let a,s,e,o,n,c;function h(a){t[4](a)}function f(a){t[5](a)}let u={};return void 0!==t[1]&&(u.stateName=t[1]),void 0!==t[0]&&(u.sortBy=t[0]),a=new R({props:u}),N.push((()=>w(a,"stateName",h))),N.push((()=>w(a,"sortBy",f))),n=new M({props:{states:t[2]}}),{c(){I(a.$$.fragment),o=r(),I(n.$$.fragment)},l(t){_(a.$$.fragment,t),o=i(t),_(n.$$.fragment,t)},m(t,s){C(a,t,s),v(t,o,s),C(n,t,s),c=!0},p(t,[r]){const o={};!s&&2&r&&(s=!0,o.stateName=t[1],B((()=>s=!1))),!e&&1&r&&(e=!0,o.sortBy=t[0],B((()=>e=!1))),a.$set(o);const c={};4&r&&(c.states=t[2]),n.$set(c)},i(t){c||(O(a.$$.fragment,t),O(n.$$.fragment,t),c=!0)},o(t){V(a.$$.fragment,t),V(n.$$.fragment,t),c=!1},d(t){x(a,t),t&&l(o),x(n,t)}}}function K(t,a,s){let e,{data:r}=a,o="name",n="";return t.$$set=t=>{"data"in t&&s(3,r=t.data)},t.$$.update=()=>{11&t.$$.dirty&&s(2,e=function(t,a,s){const e=t.filter((t=>""===a||t.fullStateName.toLowerCase().indexOf(a.toLowerCase())>-1));return"name"!==s?e.sort(((t,a)=>+a[s].replace(",","")-+t[s].replace(",",""))):e}(r,n,o))},[o,n,e,r,function(t){n=t,s(1,n)},function(t){o=t,s(0,o)}]}class Q extends t{constructor(t){super(),a(this,t,K,Y,s,{data:3})}}function W(t){let a,s,u,m,$,p,E,g,D,T,S,y;const N=[t[0]];let w={};for(let t=0;t<N.length;t+=1)w=j(w,N[t]);return E=new P({props:w}),D=new A({props:{historicData:t[1],title:"US Covid 19"}}),S=new Q({props:{data:t[2]}}),{c(){a=r(),s=e("div"),u=e("div"),m=e("h1"),$=o("Covid 19 - US"),p=r(),I(E.$$.fragment),g=r(),I(D.$$.fragment),T=r(),I(S.$$.fragment),this.h()},l(t){k('[data-svelte="svelte-17w5wlb"]',document.head).forEach(l),a=i(t),s=n(t,"DIV",{class:!0});var e=c(s);u=n(e,"DIV",{class:!0});var r=c(u);m=n(r,"H1",{});var o=c(m);$=h(o,"Covid 19 - US"),o.forEach(l),r.forEach(l),e.forEach(l),p=i(t),_(E.$$.fragment,t),g=i(t),_(D.$$.fragment,t),T=i(t),_(S.$$.fragment,t),this.h()},h(){document.title="Covid-19 US Tracker",f(u,"class","container"),f(s,"class","section header")},m(t,e){v(t,a,e),v(t,s,e),d(s,u),d(u,m),d(m,$),v(t,p,e),C(E,t,e),v(t,g,e),C(D,t,e),v(t,T,e),C(S,t,e),y=!0},p(t,[a]){const s=1&a?H(N,[b(t[0])]):{};E.$set(s);const e={};2&a&&(e.historicData=t[1]),D.$set(e);const r={};4&a&&(r.data=t[2]),S.$set(r)},i(t){y||(O(E.$$.fragment,t),O(D.$$.fragment,t),O(S.$$.fragment,t),y=!0)},o(t){V(E.$$.fragment,t),V(D.$$.fragment,t),V(S.$$.fragment,t),y=!1},d(t){t&&l(a),t&&l(s),t&&l(p),x(E,t),t&&l(g),x(D,t),t&&l(T),x(S,t)}}}async function X(){try{const t=await U.usStats(),a=await U.historicUS();return{usStats:t,historic:a,statesData:await U.statesData()}}catch(t){return console.log(t),void this.error(500,"There was an error in calling the api, please try again in 5 minutes")}}function Z(t,a,s){let{usStats:e}=a,{historic:r}=a,{statesData:o}=a;return console.log(o,"statesData"),t.$$set=t=>{"usStats"in t&&s(0,e=t.usStats),"historic"in t&&s(1,r=t.historic),"statesData"in t&&s(2,o=t.statesData)},[e,r,o]}export default class extends t{constructor(t){super(),a(this,t,Z,W,s,{usStats:0,historic:1,statesData:2})}}export{X as preload};
