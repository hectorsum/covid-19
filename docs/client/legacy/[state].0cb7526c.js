import{L as t,_ as a,a as r,b as n,c as e,i as s,d as o,S as i,s as c,M as u,f,e as l,t as v,E as h,N as p,j as d,k as m,g as $,h as g,l as b,F as y,m as x,o as C,p as w,G as E,v as R,z as S,O as j,P as k,I,J as B,K as D}from"./client.224b8c5d.js";import{_ as F,s as N,r as O,C as P,a as V}from"./CovidStat.760cbe7f.js";function _(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,s=r(t);if(a){var o=r(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return n(this,e)}}function z(t){var a,r,n,e,s,o,i,c,F,N,O,_;document.title=a="Covid-19 "+t[0];for(var z=[t[1]],G={},H=0;H<z.length;H+=1)G=u(G,z[H]);return F=new P({props:G}),O=new V({}),{c:function(){r=f(),n=l("div"),e=l("div"),s=l("h1"),o=v("Covid 19 - "),i=v(t[0]),c=f(),h(F.$$.fragment),N=f(),h(O.$$.fragment),this.h()},l:function(a){p('[data-svelte="svelte-oxm0hs"]',document.head).forEach(d),r=m(a),n=$(a,"DIV",{class:!0});var u=g(n);e=$(u,"DIV",{class:!0});var f=g(e);s=$(f,"H1",{});var l=g(s);o=b(l,"Covid 19 - "),i=b(l,t[0]),l.forEach(d),f.forEach(d),u.forEach(d),c=m(a),y(F.$$.fragment,a),N=m(a),y(O.$$.fragment,a),this.h()},h:function(){x(e,"class","container"),x(n,"class","section header")},m:function(t,a){C(t,r,a),C(t,n,a),w(n,e),w(e,s),w(s,o),w(s,i),C(t,c,a),E(F,t,a),C(t,N,a),E(O,t,a),_=!0},p:function(t,r){var n=R(r,1)[0];(!_||1&n)&&a!==(a="Covid-19 "+t[0])&&(document.title=a),(!_||1&n)&&S(i,t[0]);var e=2&n?j(z,[k(t[1])]):{};F.$set(e)},i:function(t){_||(I(F.$$.fragment,t),I(O.$$.fragment,t),_=!0)},o:function(t){B(F.$$.fragment,t),B(O.$$.fragment,t),_=!1},d:function(t){t&&d(r),t&&d(n),t&&d(c),D(F,t),t&&d(N),D(O,t)}}}function G(t){return H.apply(this,arguments)}function H(){return(H=F(t.mark((function a(r){var n,e,s;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.params.state,void 0!==N.find((function(t){return t.abbreviation===n}))){t.next=4;break}return this.error(404,"State Not Found"),t.abrupt("return");case 4:return e=N.find((function(t){return t.abbreviation===n})).name,t.prev=5,t.next=8,O.stateStats(n);case 8:return s=t.sent,t.abrupt("return",{state:e,stats:s});case 12:return t.prev=12,t.t0=t.catch(5),console.log("error: ",t.t0),this.error(500,"There was an error in calling the api, please try again in 5 minutes."),t.abrupt("return");case 17:case"end":return t.stop()}}),a,this,[[5,12]])})))).apply(this,arguments)}function J(t,a,r){var n=a.state,e=a.stats;return t.$$set=function(t){"state"in t&&r(0,n=t.state),"stats"in t&&r(1,e=t.stats)},[n,e]}var K=function(t){a(n,i);var r=_(n);function n(t){var a;return e(this,n),a=r.call(this),s(o(a),t,J,z,c,{state:0,stats:1}),a}return n}();export default K;export{G as preload};
