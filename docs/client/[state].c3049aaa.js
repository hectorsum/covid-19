import{S as t,i as a,s,G as e,a as r,e as n,t as o,z as i,H as c,d,f,c as l,b as h,g as m,A as $,h as u,k as v,l as g,B as p,u as C,I as b,J as E,D as w,E as x,F as S}from"./client.243099c8.js";import{s as y,r as D,C as I,a as j}from"./CovidStat.f67dc565.js";function F(t){let a,s,y,D,F,H,V,k,z,A,B,G;document.title=a="Covid-19 "+t[0];const J=[t[1]];let N={};for(let t=0;t<J.length;t+=1)N=e(N,J[t]);return z=new I({props:N}),B=new j({}),{c(){s=r(),y=n("div"),D=n("div"),F=n("h1"),H=o("Covid 19 - "),V=o(t[0]),k=r(),i(z.$$.fragment),A=r(),i(B.$$.fragment),this.h()},l(a){c('[data-svelte="svelte-oxm0hs"]',document.head).forEach(d),s=f(a),y=l(a,"DIV",{class:!0});var e=h(y);D=l(e,"DIV",{class:!0});var r=h(D);F=l(r,"H1",{});var n=h(F);H=m(n,"Covid 19 - "),V=m(n,t[0]),n.forEach(d),r.forEach(d),e.forEach(d),k=f(a),$(z.$$.fragment,a),A=f(a),$(B.$$.fragment,a),this.h()},h(){u(D,"class","container"),u(y,"class","section header")},m(t,a){v(t,s,a),v(t,y,a),g(y,D),g(D,F),g(F,H),g(F,V),v(t,k,a),p(z,t,a),v(t,A,a),p(B,t,a),G=!0},p(t,[s]){(!G||1&s)&&a!==(a="Covid-19 "+t[0])&&(document.title=a),(!G||1&s)&&C(V,t[0]);const e=2&s?b(J,[E(t[1])]):{};z.$set(e)},i(t){G||(w(z.$$.fragment,t),w(B.$$.fragment,t),G=!0)},o(t){x(z.$$.fragment,t),x(B.$$.fragment,t),G=!1},d(t){t&&d(s),t&&d(y),t&&d(k),S(z,t),t&&d(A),S(B,t)}}}async function H(t){const a=t.params.state;if(void 0===y.find((t=>t.abbreviation===a)))return void this.error(404,"State Not Found");const s=y.find((t=>t.abbreviation===a)).name;try{return{state:s,stats:await D.stateStats(a)}}catch(t){return console.log("error: ",t),void this.error(500,"There was an error in calling the api, please try again in 5 minutes.")}}function V(t,a,s){let{state:e}=a,{stats:r}=a;return t.$$set=t=>{"state"in t&&s(0,e=t.state),"stats"in t&&s(1,r=t.stats)},[e,r]}export default class extends t{constructor(t){super(),a(this,t,V,F,s,{state:0,stats:1})}}export{H as preload};
